# Database Design Project

Этот проект представляет собой реализацию схемы базы данных с использованием SQLAlchemy и PostgreSQL.

Описание отношений между сущностями:

* Genre:
        Одна книга может относиться только к одному жанру (один ко многим).

* Author:
        Имеет отношение "один-ко-многим" с моделью BookAuthor через relationship("BookAuthor", back_populates="author"). Это означает, что один автор может быть связан с множеством записей в таблице book_author.

* Book:
        Имеет отношение "один-ко-многим" с моделью BookAuthor через relationship("BookAuthor", back_populates="book"). Это означает, что одна книга может быть связана с множеством записей в таблице book_author.
        Одна книга может быть в нескольких покупках, но для простоты описания эта связь не моделируется в базе данных.
* BookAuthor: является связующей таблицей между Author и Book, реализуя отношение "многие-ко-многим". Она содержит внешние ключи book_id и author_id, связывающие ее с таблицами book и author соответственно.
* City (Город):
        Каждый клиент проживает в одном городе (один ко многим).
        Доставка может производиться в несколько городов, но в данной модели это не учитывается.

* Client:
        Один клиент привязан к одному городу (один ко многим).
        Каждый клиент может совершать несколько покупок (один ко многим).

* Buy:
        Каждая покупка принадлежит только одному клиенту (один ко многим).
        Одна покупка может включать в себя несколько книг (один ко многим).

* BuyBook:
        Связывает покупку с книгой и указывает количество купленных экземпляров (многие ко многим).

* Step:
        Описывает отдельный шаг процесса покупки (например, "обработка", "упаковка", "доставка") (один ко многим).

* BuyStep:
        Связывает конкретную покупку с определенным шагом, указывая дату начала и (опционально) окончания (многие ко многим).


## Установка

1. Клонируйте этот репозиторий.
2. Перейдите в директорию проекта.
3. Создайте и активируйте виртуальное окружение Python:
python -m venv venv и 
source venv/bin/activate
4. Отредактируйте файл `.env` и укажите правильные параметры подключения к базе данных.
5. Установите зависимости:
pip install poetry, poetry install

## Запуск с Docker

1. Убедитесь, что Docker установлен и запущен на вашей системе.

2. Запустите контейнер PostgreSQL с помощью Docker Compose:
docker-compose up -d
3. Создайте таблицы в базе данных:
python src/main.py